<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="stylesheet" href="/css/simulator.css">
  <link rel="stylesheet" href="/css/notLoggedIn.css">

  <script src="https://kit.fontawesome.com/b7c0e417e7.js" crossorigin="anonymous"></script>
  <title>Simulator</title>
</head>

<header>
  <%- include('partials/_navbar') %>
    <% if(isLoggedIn){ %>
      <div class="lineview">
        <div class="tradingview-widget-copyright"></div>
        <div class="tradingview-widget-container__widget"></div>
        <div class="tradingview-widget-copyright"></div>
        <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js"
          async>
            {
              "symbols" = [
                {
                  "proName": "FOREXCOM:SPXUSD",
                  "title": "S&P 500"
                },
                {
                  "proName": "FOREXCOM:NSXUSD",
                  "title": "US 100"
                },
                {
                  "proName": "FX_IDC:EURUSD",
                  "title": "EUR/USD"
                },
                {
                  "proName": "BITSTAMP:BTCUSD",
                  "title": "Bitcoin"
                },
                {
                  "proName": "BITSTAMP:ETHUSD",
                  "title": "Ethereum"
                },
                {
                  "description": "in",
                  "proName": "SGX:IN1!"
                },
                {
                  "description": "reliance",
                  "proName": "NSE:RELIANCE"
                },
                {
                  "description": "USD/Rupee",
                  "proName": "FX_IDC:USDINR"
                },
                {
                  "description": "oil",
                  "proName": "MCX:CRUDEOIL1!"
                },
                {
                  "description": "HDFC",
                  "proName": "NSE:HDFCBANK"
                },
                {
                  "description": "ICICI",
                  "proName": "NSE:ICICIBANK"
                },
                {
                  "description": "ITC",
                  "proName": "NSE:ITC"
                },
                {
                  "description": "KOTAK",
                  "proName": "NSE:KOTAKBANK"
                },
                {
                  "description": "APOLLO",
                  "proName": "NSE:APOLLOHOSP"
                },
                {
                  "description": "SBI",
                  "proName": "NSE:SBIN"
                },
                {
                  "description": "TATA",
                  "proName": "NSE:TATAMOTORS"
                },
                {
                  "description": "RBI",
                  "proName": "ECONOMICS:ININTR"
                }
              ],
                "showSymbolLogo" = true,
                "colorTheme" = "dark",
                "isTransparent" = false,
                "displayMode" = "adaptive",
                "locale" = "in"
            }
          </script>
      </div>
      <% } else { %>
        <% } %>

</header>

<body>
  <% if(isLoggedIn){ %>
    <div class="totalCost">
      Amount Invested (INR) : <span class="amount" id="costInvested">
        <%= details.costInvested %>
      </span>
    </div>
    <div class="totalCost">
      Cash In Hand (INR) : <span class="amount" id="costUser">
        <%= details.costInHand %>
      </span>
    </div>
    <div class="totalCost">
      Wallet (INR) : <span class="amount" id="wallet">
        <%= details.wallet %>
      </span>
      <a href="/pricing"><i class="fa-solid fa-plus" style="color: #268a19; margin-left: 10px;"></i></a>
    </div>


    <body class="charts-body">
      <h2 class="charts-heading">Simulator</h2>

      <div class="charts-container">
        <div class="charts-column">
          <div class="charts-card charts-card1">
            <div class="charts-sub-head" id="charts-sub">Companies</div>
            <div class="charts-info-1">
              <div class="charts-info-name">Name</div>
              <div class="charts-info1">LTP</div>
              <div class="charts-info2">Change</div>
              <div class="charts-info3">%Change</div>
            </div>
            <div class="charts-info">
              <div class="charts-info-name">AMBUJACEM</div>
              <div class="charts-info1">370.90</div>
              <div class="charts-info2">5.50</div>
              <div class="charts-info3">1.51%</div>
              <form action="/buyThisStock" method="POST">
                <button value="64429cb0e0e842cb2a662fb6" type="submit" name="priceID" class="buyingButton"
                  id="AMBUJACEM">Buy</button>
              </form>
            </div>
            <div class="charts-info">
              <div class="charts-info-name">AXISBank</div>
              <div class="charts-info1">217.65</div>
              <div class="charts-info2">2.10</div>
              <div class="charts-info3">0.97%</div>
              <form action="/buyThisStock" method="POST">
                <button value="64429e94e0e842cb2a662fb8" type="submit" name="priceID" class="buyingButton"
                  id="AXISBank">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">GODREJC</div>
              <div class="charts-info1">943.60</div>
              <div class="charts-info2">-16.40</div>
              <div class="charts-info3">-1.71</div>
              <form action="/buyThisStock" method="POST">
                <button value="64429ee9e0e842cb2a662fb9" type="submit" name="priceID" class="buyingButton"
                  id="GODREJC">Buy</button>
              </form>

            </div>

          </div>
        </div>

        <div class="charts-column">
          <div class="charts-card charts-card2">
            <div class="charts-sub-head" id="charts-sub">Commodities</div>
            <div class="charts-info-1">
              <div class="charts-info-name">Name</div>
              <div class="charts-info1">LTP</div>
              <div class="charts-info2">Change</div>
              <div class="charts-info3">%Change</div>
            </div>
            <div class="charts-info">
              <div class="charts-info-name">GOLD</div>
              <div class="charts-info1">1939.30</div>
              <div class="charts-info2">-39.20</div>
              <div class="charts-info3">-1.98%</div>
              <form action="/buyThisStock" method="POST">
                <button value="64429f53e0e842cb2a662fba" type="submit" name="priceID" class="buyingButton"
                  id="GOLD">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">SILVER</div>
              <div class="charts-info1">22.26</div>
              <div class="charts-info2">-0.260</div>
              <div class="charts-info3">-1.16%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b4c511caf830be183712" type="submit" name="priceID" class="buyingButton"
                  id="SILVER">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">DIAMOND</div>
              <div class="charts-info1">1.3</div>
              <div class="charts-info2">0.005</div>
              <div class="charts-info3">1.1%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b52811caf830be183713" type="submit" name="priceID" class="buyingButton"
                  id="DIAMOND">Buy</button>
              </form>

            </div>
          </div>
        </div>

        <div class="charts-column">
          <div class="charts-card charts-card3">
            <div class="charts-sub-head" id="charts-sub">Forex</div>
            <div class="charts-info-1">
              <div class="charts-info-name">Name</div>
              <div class="charts-info1">LTP</div>
              <div class="charts-info2">Change</div>
              <div class="charts-info3">%Change</div>
            </div>
            <div class="charts-info">
              <div class="charts-info-name">GBUSD</div>
              <div class="charts-info1">1.2198</div>
              <div class="charts-info2">-0.00796</div>
              <div class="charts-info3">-0.65%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b58811caf830be183714" type="submit" name="priceID" class="buyingButton"
                  id="GBUSD">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">EURUSD</div>
              <div class="charts-info1">1.0765</div>
              <div class="charts-info2">0.00415</div>
              <div class="charts-info3">0.39%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b5ce11caf830be183715" type="submit" name="priceID" class="buyingButton"
                  id="EURUSD">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">AUDUSD</div>
              <div class="charts-info1">0.6657</div>
              <div class="charts-info2">-0.00613</div>
              <div class="charts-info3">-0.91%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b61311caf830be183716" type="submit" name="priceID" class="buyingButton"
                  id="AUDUSD">Buy</button>
              </form>

            </div>

          </div>
        </div>

        <div class="charts-column">
          <div class="charts-card charts-card4">
            <div class="charts-sub-head" id="charts-sub">Crypto</div>
            <div class="charts-info-1">
              <div class="charts-info-name">Name</div>
              <div class="charts-info1">LTP</div>
              <div class="charts-info2">Change</div>
              <div class="charts-info3">%Change</div>
            </div>
            <div class="charts-info">
              <div class="charts-info-name">ETHUSDT</div>
              <div class="charts-info1">1794.71</div>
              <div class="charts-info2">61.93</div>
              <div class="charts-info3">3.57%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b6b811caf830be183717" type="submit" name="priceID" class="buyingButton"
                  id="ETHUSDT">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">BTCUSD</div>
              <div class="charts-info1">28241.00</div>
              <div class="charts-info2">426.00</div>
              <div class="charts-info3">1.53%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b73c11caf830be183718" type="submit" name="priceID" class="buyingButton"
                  id="BTCUSD">Buy</button>
              </form>

            </div>
            <div class="charts-info">
              <div class="charts-info-name">SOLUSDT</div>
              <div class="charts-info1">22.60</div>
              <div class="charts-info2">0.47</div>
              <div class="charts-info3">2.12%</div>
              <form action="/buyThisStock" method="POST">
                <button value="6443b7e911caf830be183719" type="submit" name="priceID" class="buyingButton"
                  id="SOLUSDT">Buy</button>
              </form>

            </div>
            <div></div>
          </div>
        </div>
      </div>

      <h2 class="charts-heading">Share Holdings</h2>

      <% for (let index=0; index < stockTransactionDetails.length; index++) { %>
        <div class="simulator_stockcard">
          <div class="simulator_cardheading">
            <h2>
              <%= stockDetails[index].chart_name %>
            </h2>
            <p>Chai Trade Exchange</p>
          </div>

          <div class="simulator_cardcontents">
            <div class="simulator_cardprice">

              <div class="simulator_allsameclass">
                <p class="simulator_cardcontentheadings">Price</p>
              </div>
              <div class="simulator_allsameclass">
                <p>
                  <%= stockDetails[index].chart_ltp %>
                </p>
              </div>
              <div class="simulator_allsameclass">
                <p class="triangle">
                  <%= stockDetails[index].chart_change %>
                </p>
              </div>
              <div class="simulator_allsameclass">
                <% if(stockDetails[index].chart_change>= 0.0){ %>
                  <p class="triangle"> ▲ <%= stockDetails[index].chart_percentage %>
                  </p>
                  <% } else{ %>
                    <p class="triangle"> ▼ <%= stockDetails[index].chart_percentage %>
                    </p>
                    <% } %>

              </div>
            </div>

            <div class="simulator_cardvalue">

              <div class="simulator_allsameclass">
                <p class="simulator_cardcontentheadings">Purchase Details</p>
              </div>
              <div class="simulator_allsameclass">
                <p>
                  <%= stockTransactionDetails[index].purchasePrice %>
                </p>
              </div>
              <div class="simulator_allsameclass">
                <p class="card_date">
                  <%= stockTransactionDetails[index].purchaseDate %>
                </p>
              </div>
            </div>

            <div class="simulator_cardprofit">
              <div class="simulator_allsameclass">
                <p class="simulator_cardcontentheadings">P&L</p>
              </div>
              <div class="simulator_allsameclass">
                <p>----------</p>
              </div>
              <div class="simulator_allsameclass">
                <p class="triangle">$ <%= (stockDetails[index].chart_ltp - stockTransactionDetails[index].purchasePrice).toFixed(2)
                    %>
                </p>
              </div>
              <div class="simulator_allsameclass">
                <p class="triangle">
                  <%= ((stockDetails[index].chart_ltp -
                    stockTransactionDetails[index].purchasePrice)/stockDetails[index].chart_ltp).toFixed(2) %>
                </p>
              </div>
            </div>
          </div>
        </div>
        <% } %>

    </body>
    <% } else { %>
      <div class="bodyElement">
        <div class="image-container">
          <img style="width: 500px" class="signedOutImage" src="/images/profile-interface-animate.svg">
          <p class="image-caption">User not Logged-in</p>
          <button class="button-27" role="button"><a href="/signIn">Click Here to Login</a></button>
        </div>
      </div>
      <% } %>
</body>


<% if(isLoggedIn){ %>
  <footer>
    <%- include('partials/_footer') %>
  </footer>
  <% } else { %>
    <% } %>


</html>